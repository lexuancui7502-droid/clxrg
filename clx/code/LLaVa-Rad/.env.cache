# [2025-10-19] 统一设置 LLaVa-Rad 项目的环境变量和缓存路径，支持离线运行。
# ---------- 固定缓存路径 ----------
export WEIGHTS_ROOT=/media/cuilexuan/clx/weights

# RRG 评测器本地根（如果有本地镜像的话）
export RRG_SCORES=/media/cuilexuan/clx/weights/rrg_scorers

# ---------- HF/Transformers 缓存（统一用 hub 树） ----------
export HF_HOME="$WEIGHTS_ROOT/hf_home"
export HUGGINGFACE_HUB_CACHE="$HF_HOME/hub"
export TRANSFORMERS_CACHE="$HF_HOME/hub"
export HF_DATASETS_CACHE="$HF_HOME/datasets"

# ---------- PyTorch / open_clip 缓存 ----------
export TORCH_HOME="$WEIGHTS_ROOT/torch_home"
export OPEN_CLIP_CACHE_DIR="$TORCH_HOME/open_clip"

# ---------- BiomedCLIP 本地缓存 ----------
export BIOMEDCLIP_CACHE="$WEIGHTS_ROOT/biomedclip"
export BIOMEDCLIP_CKPT="$WEIGHTS_ROOT/biomedclip/ckpt.pt"
export LLAVARAD_VISION_CFG="$WEIGHTS_ROOT/biomedclip/biomedclipcxr_518.json"

# ---------- 关闭 W&B ----------
export WANDB_MODE=disabled
export WANDB_DISABLED=true
export WANDB_SILENT=true

# ---------- 代理（按需） ----------
export HTTP_PROXY='http://127.0.0.1:7890'
export HTTPS_PROXY='http://127.0.0.1:7890'
export ALL_PROXY='http://127.0.0.1:7890'
export NO_PROXY='127.0.0.1,localhost,.local'
export http_proxy="$HTTP_PROXY"
export https_proxy="$HTTPS_PROXY"
export all_proxy="$ALL_PROXY"

# 可选：Git 网络日志更详细
export GIT_CURL_VERBOSE=1

# ---------- Python 路径（安全追加写法） ----------
export PYTHONPATH="/media/cuilexuan/clx/code/LLaVa-Rad${PYTHONPATH:+:$PYTHONPATH}"
